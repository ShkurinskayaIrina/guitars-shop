{"ast":null,"code":"var _jsxFileName = \"C:\\\\\\u0418\\u0440\\u0438\\u043D\\u0430\\\\Projects\\\\guitars-shop\\\\src\\\\components\\\\filter\\\\filter.tsx\",\n    _s = $RefreshSig$();\n\nimport { useSearchParams, useLocation } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { useAppDispatch, useAppSelector } from '../../hooks';\nimport { getMinPrice, getMaxPrice } from '../../store/guitars-data/selector';\nimport { updateFilterPriceMin, updateFilterPriceMax, updateFilterTypes, updateFilter4Strings, updateFilter6Strings, updateFilter7Strings, updateFilter12Strings } from '../../store/guitars-process/guitars-process';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst guitarStrings = {\n  'acoustic': ['6-strings', '7-strings', '12-strings'],\n  'electric': ['4-strings', '6-strings', '7-strings'],\n  'ukulele': ['4-strings']\n};\n\nfunction Filter() {\n  _s();\n\n  const dispatch = useAppDispatch();\n  const {\n    search\n  } = useLocation();\n  let priceMinSeach = 0; // const priceMaxSeach = new URLSearchParams(search).get('priceMax');\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const guitarsMinPrice = useAppSelector(getMinPrice);\n  const guitarsMaxPrice = useAppSelector(getMaxPrice);\n  const [filterPriceMin, setFilterPriceMin] = useState(0);\n  const [filterPriceMax, setFilterPriceMax] = useState(0);\n  const [filterType, setFilterType] = useState({\n    acoustic: false,\n    electric: false,\n    ukulele: false\n  });\n  const [filter4StringsDisabled, setFilter4StringsDisabled] = useState(false);\n  const [filter6StringsDisabled, setFilter6StringsDisabled] = useState(false);\n  const [filter7StringsDisabled, setFilter7StringsDisabled] = useState(false);\n  const [filter12StringsDisabled, setFilter12StringsDisabled] = useState(false);\n  const [filter4StringsChecked, setFilter4StringsChecked] = useState(false);\n  const [filter6StringsChecked, setFilter6StringsChecked] = useState(false);\n  const [filter7StringsChecked, setFilter7StringsChecked] = useState(false);\n  const [filter12StringsChecked, setFilter12StringsChecked] = useState(false);\n\n  const myFunction = () => {\n    // eslint-disable-next-line no-console\n    console.log(1); // priceMinSeach = Number(new URLSearchParams(search).get('priceMin'));\n\n    const seachValue = search.replace('&', ' ').replace('?', '').split(' ');\n    seachValue.forEach(el => {\n      const indexStart = el.search('=');\n      priceMinSeach = Number(el.substring(indexStart + 1));\n    });\n  };\n\n  useEffect(() => {\n    myFunction();\n    return () => {\n      // eslint-disable-next-line no-console\n      console.log(2);\n      setFilterPriceMin(priceMinSeach); // This worked for me\n    }; // const seachValue = (search.replace('&', ' ').replace('?', '').split(' '));\n    // seachValue.forEach((el) => {\n    // const indexStart = el.search('=');\n    // const value = Number(el.substring(indexStart+1));\n    // if (el.includes('priceMin')) {\n    // eslint-disable-next-line no-console\n    // console.log('1');\n    // return setFilterPriceMin(value);\n    // }\n    // if (el.includes('priceMax')) {\n    // return() => {setFilterPriceMax(value);};\n    // }\n    // });\n  });\n  useEffect(() => {\n    const filterStringsItems = [''];\n    Object.keys(filterType).forEach(el => {\n      if (filterType[el]) {\n        guitarStrings[el].forEach(item => {\n          if (!filterStringsItems.includes(item)) {\n            filterStringsItems.push(item);\n          }\n        });\n      }\n    });\n    setFilter4StringsDisabled(filterStringsItems.length > 1 ? !filterStringsItems.includes('4-strings') : false);\n    setFilter6StringsDisabled(filterStringsItems.length > 1 ? !filterStringsItems.includes('6-strings') : false);\n    setFilter7StringsDisabled(filterStringsItems.length > 1 ? !filterStringsItems.includes('7-strings') : false);\n    setFilter12StringsDisabled(filterStringsItems.length > 1 ? !filterStringsItems.includes('12-strings') : false);\n\n    if (filterStringsItems.length > 1 && !filterStringsItems.includes('4-strings')) {\n      setFilter4StringsChecked(false);\n    }\n\n    if (filterStringsItems.length > 1 && !filterStringsItems.includes('6-strings')) {\n      setFilter6StringsChecked(false);\n    }\n\n    if (filterStringsItems.length > 1 && !filterStringsItems.includes('7-strings')) {\n      setFilter7StringsChecked(false);\n    }\n\n    if (filterStringsItems.length > 1 && !filterStringsItems.includes('12-strings')) {\n      setFilter12StringsChecked(false);\n    }\n\n    dispatch(updateFilterPriceMin(filterPriceMin));\n    dispatch(updateFilterPriceMax(filterPriceMax));\n    dispatch(updateFilterTypes(filterType));\n    dispatch(updateFilter4Strings(filter4StringsChecked));\n    dispatch(updateFilter6Strings(filter6StringsChecked));\n    dispatch(updateFilter7Strings(filter7StringsChecked));\n    dispatch(updateFilter12Strings(filter12StringsChecked));\n  }, [dispatch, filterPriceMin, filterPriceMax, filterType, filter4StringsChecked, filter6StringsChecked, filter7StringsChecked, filter12StringsChecked]);\n\n  const fieldPriceChangeHandle = evt => {\n    const {\n      id,\n      value\n    } = evt.target;\n\n    if (id === 'priceMin') {\n      setFilterPriceMin(Number(value));\n    } else {\n      setFilterPriceMax(Number(value));\n    }\n  };\n\n  const handleMinPriceBlur = evt => {\n    const {\n      value\n    } = evt.target;\n\n    if (Number(value) !== 0) {\n      if (Number(value) < guitarsMinPrice) {\n        setFilterPriceMin(guitarsMinPrice);\n        searchParams.set('priceMin', guitarsMinPrice.toString());\n        setSearchParams(searchParams);\n        return;\n      }\n\n      if (Number(value) > guitarsMaxPrice) {\n        setFilterPriceMin(guitarsMaxPrice);\n        searchParams.set('priceMin', guitarsMaxPrice.toString());\n        setSearchParams(searchParams);\n        return;\n      }\n\n      if (Number(value) > Number(filterPriceMax) && Number(filterPriceMax) !== 0) {\n        setFilterPriceMin(filterPriceMax);\n        searchParams.set('priceMin', filterPriceMax.toString());\n        setSearchParams(searchParams);\n        return;\n      }\n\n      setFilterPriceMin(Number(value));\n      searchParams.set('priceMin', value);\n      setSearchParams(searchParams);\n    } else {\n      setFilterPriceMin(0);\n      searchParams.delete('priceMin');\n      setSearchParams(searchParams);\n    }\n  };\n\n  const handleMaxPriceBlur = evt => {\n    const {\n      value\n    } = evt.target;\n\n    if (Number(value) !== 0) {\n      if (Number(value) < guitarsMinPrice) {\n        setFilterPriceMax(guitarsMinPrice);\n        searchParams.set('priceMax', guitarsMinPrice.toString());\n        setSearchParams(searchParams);\n        return;\n      }\n\n      if (Number(value) > guitarsMaxPrice) {\n        setFilterPriceMax(guitarsMaxPrice);\n        searchParams.set('priceMax', guitarsMaxPrice.toString());\n        setSearchParams(searchParams);\n        return;\n      }\n\n      if (Number(value) < Number(filterPriceMin) && Number(filterPriceMin) !== 0) {\n        setFilterPriceMax(filterPriceMin);\n        searchParams.set('priceMax', filterPriceMin.toString());\n        setSearchParams(searchParams);\n        return;\n      }\n\n      setFilterPriceMax(Number(value));\n      searchParams.set('priceMax', value.toString());\n      setSearchParams(searchParams);\n    } else {\n      setFilterPriceMax(0);\n      searchParams.delete('priceMax');\n      setSearchParams(searchParams);\n    }\n  };\n\n  const radioChangeHandler = evt => {\n    const {\n      name,\n      checked\n    } = evt.target;\n    setFilterType({ ...filterType,\n      [name]: checked\n    });\n\n    if (checked) {// searchParams.set('filter_type', name);\n      // setSearchParams(searchParams);\n      // return;\n    } // searchParams.delete('filter_type');\n    // setSearchParams(searchParams);\n\n  };\n\n  const onResetClick = () => {\n    setFilterPriceMin(0);\n    setFilterPriceMax(0);\n    setFilterType({\n      acoustic: false,\n      electric: false,\n      ukulele: false\n    });\n    setFilter4StringsDisabled(false);\n    setFilter6StringsDisabled(false);\n    setFilter7StringsDisabled(false);\n    setFilter12StringsDisabled(false); // searchParams.delete('filter_priceMin');\n    // searchParams.delete('filter_priceMax');\n    // setSearchParams(searchParams);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"catalog-filter\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"title title--bigger catalog-filter__title\",\n      children: \"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n      className: \"catalog-filter__block\",\n      children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n        className: \"catalog-filter__block-title\",\n        children: \"\\u0426\\u0435\\u043D\\u0430, \\u20BD\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"catalog-filter__price-range\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-input\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"visually-hidden\",\n            children: \"\\u041C\\u0438\\u043D\\u0438\\u043C\\u0430\\u043B\\u044C\\u043D\\u0430\\u044F \\u0446\\u0435\\u043D\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"priceMin\",\n            name: \"\\u043E\\u0442\",\n            value: Number(filterPriceMin) === 0 ? '' : filterPriceMin,\n            placeholder: guitarsMinPrice.toLocaleString(),\n            onChange: fieldPriceChangeHandle,\n            onBlur: handleMinPriceBlur\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-input\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"visually-hidden\",\n            children: \"\\u041C\\u0430\\u043A\\u0441\\u0438\\u043C\\u0430\\u043B\\u044C\\u043D\\u0430\\u044F \\u0446\\u0435\\u043D\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"priceMax\",\n            name: \"\\u0434\\u043E\",\n            placeholder: guitarsMaxPrice.toLocaleString(),\n            value: Number(filterPriceMax) === 0 ? '' : filterPriceMax,\n            onChange: fieldPriceChangeHandle,\n            onBlur: handleMaxPriceBlur\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n      className: \"catalog-filter__block\",\n      children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n        className: \"catalog-filter__block-title\",\n        children: \"\\u0422\\u0438\\u043F \\u0433\\u0438\\u0442\\u0430\\u0440\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-checkbox catalog-filter__block-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"visually-hidden\",\n          type: \"checkbox\",\n          id: \"acoustic\",\n          name: \"acoustic\",\n          onChange: radioChangeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"acoustic\",\n          children: \"\\u0410\\u043A\\u0443\\u0441\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0435 \\u0433\\u0438\\u0442\\u0430\\u0440\\u044B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-checkbox catalog-filter__block-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"visually-hidden\",\n          type: \"checkbox\",\n          id: \"electric\",\n          name: \"electric\",\n          onChange: radioChangeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"electric\",\n          children: \"\\u042D\\u043B\\u0435\\u043A\\u0442\\u0440\\u043E\\u0433\\u0438\\u0442\\u0430\\u0440\\u044B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-checkbox catalog-filter__block-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"visually-hidden\",\n          type: \"checkbox\",\n          id: \"ukulele\",\n          name: \"ukulele\",\n          onChange: radioChangeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"ukulele\",\n          children: \"\\u0423\\u043A\\u0443\\u043B\\u0435\\u043B\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n      className: \"catalog-filter__block\",\n      children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n        className: \"catalog-filter__block-title\",\n        children: \"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u0441\\u0442\\u0440\\u0443\\u043D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-checkbox catalog-filter__block-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"visually-hidden\",\n          type: \"checkbox\",\n          id: \"4-strings\",\n          name: \"4-strings\",\n          disabled: filter4StringsDisabled,\n          checked: filter4StringsChecked,\n          onChange: evt => setFilter4StringsChecked(evt.target.checked)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"4-strings\",\n          children: \"4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-checkbox catalog-filter__block-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"visually-hidden\",\n          type: \"checkbox\",\n          id: \"6-strings\",\n          name: \"6-strings\",\n          disabled: filter6StringsDisabled,\n          checked: filter6StringsChecked,\n          onChange: evt => setFilter6StringsChecked(evt.target.checked)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"6-strings\",\n          children: \"6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-checkbox catalog-filter__block-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"visually-hidden\",\n          type: \"checkbox\",\n          id: \"7-strings\",\n          name: \"7-strings\",\n          disabled: filter7StringsDisabled,\n          checked: filter7StringsChecked,\n          onChange: evt => setFilter7StringsChecked(evt.target.checked)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"7-strings\",\n          children: \"7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-checkbox catalog-filter__block-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"visually-hidden\",\n          type: \"checkbox\",\n          id: \"12-strings\",\n          name: \"12-strings\",\n          disabled: filter12StringsDisabled,\n          checked: filter12StringsChecked,\n          onChange: evt => setFilter12StringsChecked(evt.target.checked)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"12-strings\",\n          children: \"12\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"catalog-filter__reset-btn button button--black-border button--medium\",\n      type: \"reset\",\n      onClick: onResetClick,\n      children: \"\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 235,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Filter, \"PHjcxL++BdA+lcjYZaWbEEoscF8=\", false, function () {\n  return [useAppDispatch, useLocation, useSearchParams, useAppSelector, useAppSelector];\n});\n\n_c = Filter;\nexport default Filter;\n\nvar _c;\n\n$RefreshReg$(_c, \"Filter\");","map":{"version":3,"names":["useSearchParams","useLocation","useState","useEffect","useAppDispatch","useAppSelector","getMinPrice","getMaxPrice","updateFilterPriceMin","updateFilterPriceMax","updateFilterTypes","updateFilter4Strings","updateFilter6Strings","updateFilter7Strings","updateFilter12Strings","guitarStrings","Filter","dispatch","search","priceMinSeach","searchParams","setSearchParams","guitarsMinPrice","guitarsMaxPrice","filterPriceMin","setFilterPriceMin","filterPriceMax","setFilterPriceMax","filterType","setFilterType","acoustic","electric","ukulele","filter4StringsDisabled","setFilter4StringsDisabled","filter6StringsDisabled","setFilter6StringsDisabled","filter7StringsDisabled","setFilter7StringsDisabled","filter12StringsDisabled","setFilter12StringsDisabled","filter4StringsChecked","setFilter4StringsChecked","filter6StringsChecked","setFilter6StringsChecked","filter7StringsChecked","setFilter7StringsChecked","filter12StringsChecked","setFilter12StringsChecked","myFunction","console","log","seachValue","replace","split","forEach","el","indexStart","Number","substring","filterStringsItems","Object","keys","item","includes","push","length","fieldPriceChangeHandle","evt","id","value","target","handleMinPriceBlur","set","toString","delete","handleMaxPriceBlur","radioChangeHandler","name","checked","onResetClick","toLocaleString"],"sources":["C:/Ирина/Projects/guitars-shop/src/components/filter/filter.tsx"],"sourcesContent":["import { useSearchParams, useLocation } from 'react-router-dom';\r\nimport { useState, useEffect, ChangeEvent } from 'react';\r\nimport { useAppDispatch, useAppSelector } from '../../hooks';\r\nimport { getMinPrice, getMaxPrice } from '../../store/guitars-data/selector';\r\n\r\nimport { updateFilterPriceMin, updateFilterPriceMax, updateFilterTypes, updateFilter4Strings,\r\n  updateFilter6Strings, updateFilter7Strings, updateFilter12Strings } from '../../store/guitars-process/guitars-process';\r\n\r\nconst guitarStrings :{[key: string]: string[]} = {\r\n  'acoustic': ['6-strings', '7-strings', '12-strings'],\r\n  'electric': ['4-strings', '6-strings', '7-strings'],\r\n  'ukulele': ['4-strings'],\r\n};\r\n\r\nfunction Filter():JSX.Element {\r\n  const dispatch = useAppDispatch();\r\n  const {search} = useLocation();\r\n\r\n  let priceMinSeach = 0;\r\n  // const priceMaxSeach = new URLSearchParams(search).get('priceMax');\r\n\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const guitarsMinPrice = useAppSelector(getMinPrice);\r\n  const guitarsMaxPrice = useAppSelector(getMaxPrice);\r\n\r\n  const [filterPriceMin, setFilterPriceMin] = useState(0);\r\n  const [filterPriceMax, setFilterPriceMax] = useState(0);\r\n\r\n  const [filterType, setFilterType] = useState<{[key: string]: boolean} >({\r\n    acoustic: false,\r\n    electric: false,\r\n    ukulele: false,\r\n  });\r\n\r\n  const [filter4StringsDisabled, setFilter4StringsDisabled] = useState(false);\r\n  const [filter6StringsDisabled, setFilter6StringsDisabled] = useState(false);\r\n  const [filter7StringsDisabled, setFilter7StringsDisabled] = useState(false);\r\n  const [filter12StringsDisabled, setFilter12StringsDisabled] = useState(false);\r\n\r\n  const [filter4StringsChecked, setFilter4StringsChecked] = useState(false);\r\n  const [filter6StringsChecked, setFilter6StringsChecked] = useState(false);\r\n  const [filter7StringsChecked, setFilter7StringsChecked] = useState(false);\r\n  const [filter12StringsChecked, setFilter12StringsChecked] = useState(false);\r\n\r\n  const myFunction = () => {\r\n    // eslint-disable-next-line no-console\r\n    console.log(1);\r\n    // priceMinSeach = Number(new URLSearchParams(search).get('priceMin'));\r\n    const seachValue = (search.replace('&', ' ').replace('?', '').split(' '));\r\n\r\n    seachValue.forEach((el) => {\r\n      const indexStart = el.search('=');\r\n      priceMinSeach = Number(el.substring(indexStart+1));\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    myFunction();\r\n    return () => {\r\n      // eslint-disable-next-line no-console\r\n      console.log(2);\r\n      setFilterPriceMin(priceMinSeach); // This worked for me\r\n    };\r\n\r\n    // const seachValue = (search.replace('&', ' ').replace('?', '').split(' '));\r\n\r\n    // seachValue.forEach((el) => {\r\n    // const indexStart = el.search('=');\r\n    // const value = Number(el.substring(indexStart+1));\r\n    // if (el.includes('priceMin')) {\r\n    // eslint-disable-next-line no-console\r\n    // console.log('1');\r\n    // return setFilterPriceMin(value);\r\n    // }\r\n    // if (el.includes('priceMax')) {\r\n    // return() => {setFilterPriceMax(value);};\r\n    // }\r\n    // });\r\n\r\n  });\r\n\r\n  useEffect(() => {\r\n    const filterStringsItems = [''];\r\n\r\n    Object.keys(filterType).forEach((el)=>{\r\n      if ( filterType[el] ) {\r\n        guitarStrings[el].forEach((item) => {\r\n          if (!filterStringsItems.includes(item)) {\r\n            filterStringsItems.push(item);\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    setFilter4StringsDisabled(filterStringsItems.length > 1 ? !filterStringsItems.includes('4-strings') : false);\r\n    setFilter6StringsDisabled(filterStringsItems.length > 1 ? !filterStringsItems.includes('6-strings') : false);\r\n    setFilter7StringsDisabled(filterStringsItems.length > 1 ? !filterStringsItems.includes('7-strings') : false);\r\n    setFilter12StringsDisabled(filterStringsItems.length > 1 ? !filterStringsItems.includes('12-strings') : false);\r\n\r\n    if (filterStringsItems.length > 1 && !filterStringsItems.includes('4-strings')) {\r\n      setFilter4StringsChecked(false);\r\n    }\r\n\r\n    if (filterStringsItems.length > 1 && !filterStringsItems.includes('6-strings')) {\r\n      setFilter6StringsChecked(false);\r\n    }\r\n\r\n    if (filterStringsItems.length > 1 && !filterStringsItems.includes('7-strings')) {\r\n      setFilter7StringsChecked(false);\r\n    }\r\n\r\n    if (filterStringsItems.length > 1 && !filterStringsItems.includes('12-strings')) {\r\n      setFilter12StringsChecked(false);\r\n    }\r\n\r\n    dispatch(updateFilterPriceMin(filterPriceMin));\r\n    dispatch(updateFilterPriceMax(filterPriceMax));\r\n    dispatch(updateFilterTypes(filterType));\r\n    dispatch(updateFilter4Strings(filter4StringsChecked));\r\n    dispatch(updateFilter6Strings(filter6StringsChecked));\r\n    dispatch(updateFilter7Strings(filter7StringsChecked));\r\n    dispatch(updateFilter12Strings(filter12StringsChecked));\r\n\r\n  }, [dispatch, filterPriceMin, filterPriceMax, filterType, filter4StringsChecked, filter6StringsChecked, filter7StringsChecked, filter12StringsChecked]);\r\n\r\n  const fieldPriceChangeHandle = (evt: ChangeEvent<HTMLInputElement>) => {\r\n    const {id, value} = evt.target;\r\n    if (id === 'priceMin') {\r\n      setFilterPriceMin(Number(value));\r\n    } else {\r\n      setFilterPriceMax(Number(value));\r\n    }\r\n  };\r\n\r\n  const handleMinPriceBlur = (evt: ChangeEvent<HTMLInputElement>) => {\r\n    const {value} = evt.target;\r\n    if ( Number(value) !== 0 ) {\r\n      if ( Number(value) < guitarsMinPrice ) {\r\n        setFilterPriceMin(guitarsMinPrice);\r\n        searchParams.set('priceMin', guitarsMinPrice.toString());\r\n        setSearchParams(searchParams);\r\n        return;\r\n      }\r\n\r\n      if ( Number(value) > guitarsMaxPrice ) {\r\n        setFilterPriceMin(guitarsMaxPrice);\r\n        searchParams.set('priceMin', guitarsMaxPrice.toString());\r\n        setSearchParams(searchParams);\r\n        return;\r\n      }\r\n\r\n      if ( Number(value) > Number(filterPriceMax) && Number(filterPriceMax) !== 0) {\r\n        setFilterPriceMin(filterPriceMax);\r\n        searchParams.set('priceMin', filterPriceMax.toString());\r\n        setSearchParams(searchParams);\r\n        return;\r\n      }\r\n      setFilterPriceMin(Number(value));\r\n      searchParams.set('priceMin', value);\r\n      setSearchParams(searchParams);\r\n    } else {\r\n      setFilterPriceMin(0);\r\n      searchParams.delete('priceMin');\r\n      setSearchParams(searchParams);\r\n    }\r\n  };\r\n\r\n  const handleMaxPriceBlur = (evt: ChangeEvent<HTMLInputElement>) => {\r\n    const {value} = evt.target;\r\n\r\n    if ( Number(value) !== 0 ) {\r\n      if ( Number(value) < guitarsMinPrice ) {\r\n        setFilterPriceMax(guitarsMinPrice);\r\n        searchParams.set('priceMax', guitarsMinPrice.toString());\r\n        setSearchParams(searchParams);\r\n        return;\r\n      }\r\n\r\n      if ( Number(value) > guitarsMaxPrice ) {\r\n        setFilterPriceMax(guitarsMaxPrice);\r\n        searchParams.set('priceMax', guitarsMaxPrice.toString());\r\n        setSearchParams(searchParams);\r\n        return;\r\n      }\r\n\r\n      if ( Number(value) < Number(filterPriceMin) && Number(filterPriceMin) !== 0) {\r\n        setFilterPriceMax(filterPriceMin);\r\n        searchParams.set('priceMax', filterPriceMin.toString());\r\n        setSearchParams(searchParams);\r\n        return;\r\n      }\r\n      setFilterPriceMax(Number(value));\r\n      searchParams.set('priceMax', value.toString());\r\n      setSearchParams(searchParams);\r\n    } else {\r\n      setFilterPriceMax(0);\r\n      searchParams.delete('priceMax');\r\n      setSearchParams(searchParams);\r\n    }\r\n  };\r\n\r\n  const radioChangeHandler = (evt: ChangeEvent<HTMLInputElement>) => {\r\n    const { name, checked } = evt.target;\r\n    setFilterType({...filterType, [name]: checked});\r\n    if (checked) {\r\n      // searchParams.set('filter_type', name);\r\n      // setSearchParams(searchParams);\r\n      // return;\r\n    }\r\n    // searchParams.delete('filter_type');\r\n    // setSearchParams(searchParams);\r\n  };\r\n\r\n  const onResetClick = () => {\r\n    setFilterPriceMin(0);\r\n    setFilterPriceMax(0);\r\n\r\n    setFilterType({\r\n      acoustic: false,\r\n      electric: false,\r\n      ukulele: false,\r\n    });\r\n\r\n    setFilter4StringsDisabled(false);\r\n    setFilter6StringsDisabled(false);\r\n    setFilter7StringsDisabled(false);\r\n    setFilter12StringsDisabled(false);\r\n\r\n    // searchParams.delete('filter_priceMin');\r\n    // searchParams.delete('filter_priceMax');\r\n    // setSearchParams(searchParams);\r\n  };\r\n\r\n  return (\r\n    <form className=\"catalog-filter\">\r\n      <h2 className=\"title title--bigger catalog-filter__title\">Фильтр</h2>\r\n      <fieldset className=\"catalog-filter__block\">\r\n        <legend className=\"catalog-filter__block-title\">Цена, ₽</legend>\r\n        <div className=\"catalog-filter__price-range\">\r\n          <div className=\"form-input\">\r\n            <label className=\"visually-hidden\">Минимальная цена</label>\r\n            <input type=\"number\"  id=\"priceMin\" name=\"от\"\r\n              value={Number(filterPriceMin)===0 ? '' : filterPriceMin}\r\n              placeholder={guitarsMinPrice.toLocaleString()}\r\n              onChange={fieldPriceChangeHandle}\r\n              onBlur={handleMinPriceBlur}\r\n            />\r\n          </div>\r\n          <div className=\"form-input\">\r\n            <label className=\"visually-hidden\">Максимальная цена</label>\r\n            <input type=\"number\"   id=\"priceMax\" name=\"до\"\r\n              placeholder={guitarsMaxPrice.toLocaleString()}\r\n              value={Number(filterPriceMax)===0 ? '' : filterPriceMax}\r\n              onChange={fieldPriceChangeHandle}\r\n              onBlur={handleMaxPriceBlur}\r\n            />\r\n          </div>\r\n        </div>\r\n      </fieldset>\r\n      <fieldset className=\"catalog-filter__block\">\r\n        <legend className=\"catalog-filter__block-title\">Тип гитар</legend>\r\n        <div className=\"form-checkbox catalog-filter__block-item\">\r\n          <input className=\"visually-hidden\" type=\"checkbox\" id=\"acoustic\" name=\"acoustic\"\r\n            onChange={radioChangeHandler}\r\n          />\r\n          <label htmlFor=\"acoustic\">Акустические гитары</label>\r\n        </div>\r\n        <div className=\"form-checkbox catalog-filter__block-item\">\r\n          <input className=\"visually-hidden\" type=\"checkbox\" id=\"electric\" name=\"electric\"\r\n            onChange={radioChangeHandler}\r\n          />\r\n          <label htmlFor=\"electric\">Электрогитары</label>\r\n        </div>\r\n        <div className=\"form-checkbox catalog-filter__block-item\">\r\n          <input className=\"visually-hidden\" type=\"checkbox\" id=\"ukulele\" name=\"ukulele\"\r\n            onChange={radioChangeHandler}\r\n          />\r\n          <label htmlFor=\"ukulele\">Укулеле</label>\r\n        </div>\r\n      </fieldset>\r\n      <fieldset className=\"catalog-filter__block\">\r\n        <legend className=\"catalog-filter__block-title\">Количество струн</legend>\r\n        <div className=\"form-checkbox catalog-filter__block-item\">\r\n          <input className=\"visually-hidden\" type=\"checkbox\" id=\"4-strings\" name=\"4-strings\"\r\n            disabled={filter4StringsDisabled}\r\n            checked={filter4StringsChecked}\r\n            onChange={(evt)=>setFilter4StringsChecked(evt.target.checked)}\r\n          />\r\n          <label htmlFor=\"4-strings\">4</label>\r\n        </div>\r\n        <div className=\"form-checkbox catalog-filter__block-item\">\r\n          <input className=\"visually-hidden\" type=\"checkbox\" id=\"6-strings\" name=\"6-strings\"\r\n            disabled={filter6StringsDisabled}\r\n            checked={filter6StringsChecked}\r\n            onChange={(evt)=>setFilter6StringsChecked(evt.target.checked)}\r\n          />\r\n          <label htmlFor=\"6-strings\">6</label>\r\n        </div>\r\n        <div className=\"form-checkbox catalog-filter__block-item\">\r\n          <input className=\"visually-hidden\" type=\"checkbox\" id=\"7-strings\" name=\"7-strings\"\r\n            disabled={filter7StringsDisabled}\r\n            checked={filter7StringsChecked}\r\n            onChange={(evt)=>setFilter7StringsChecked(evt.target.checked)}\r\n          />\r\n          <label htmlFor=\"7-strings\">7</label>\r\n        </div>\r\n        <div className=\"form-checkbox catalog-filter__block-item\">\r\n          <input className=\"visually-hidden\" type=\"checkbox\" id=\"12-strings\" name=\"12-strings\"\r\n            disabled={filter12StringsDisabled}\r\n            checked={filter12StringsChecked}\r\n            onChange={(evt)=>setFilter12StringsChecked(evt.target.checked)}\r\n          />\r\n          <label htmlFor=\"12-strings\">12</label>\r\n        </div>\r\n      </fieldset>\r\n      <button className=\"catalog-filter__reset-btn button button--black-border button--medium\" type=\"reset\"\r\n        onClick={onResetClick}\r\n      >Очистить\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default Filter;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}