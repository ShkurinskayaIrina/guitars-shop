{"ast":null,"code":"import{useParams}from'react-router-dom';import{useEffect}from'react';import{store}from'../../store/index';import{fetchGuitar}from'../../store/api-actions';import{getGuitarCurrent}from'../../store/guitars-data/selector';import{useAppSelector}from'../../hooks';import{getNumGuitar}from'../../utils/utils';import Header from'../header/header';import Breadcrumbs from'../breadcrumbs/breadcrumbs';import GuitarTabs from'../guitar-tabs/guitar-tabs';import ReviewsList from'../reviews-list/reviews-list';import RatingBlock from'../rating-block/rating-block';import Footer from'../footer/footer';import NotFoundPage from'../not-found-page/not-found-page';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProductPage(){var _useParams=useParams(),id=_useParams.id;useEffect(function(){store.dispatch(fetchGuitar(Number(id)));},[id]);var guitarCurrent=useAppSelector(getGuitarCurrent);var name=guitarCurrent.name,previewImg=guitarCurrent.previewImg,price=guitarCurrent.price,rating=guitarCurrent.rating;var numGuitar=getNumGuitar(previewImg);if(Object.keys(guitarCurrent).length===0){return/*#__PURE__*/_jsx(NotFoundPage,{});}return/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"main\",{className:\"page-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-content__title title title--bigger\",\"data-testid\":\"name\",children:name}),/*#__PURE__*/_jsx(Breadcrumbs,{nameGuitar:name}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-container\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"product-container__img\",src:\"/img/content/catalog-product-\".concat(numGuitar,\".jpg\"),srcSet:\"/img/content/catalog-product-\".concat(numGuitar,\"@2x.jpg 2x}\"),width:\"90\",height:\"235\",alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-container__info-wrapper\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"product-container__title title title--big title--uppercase\",children:name}),/*#__PURE__*/_jsx(\"div\",{className:\"rate product-container__rating\",children:/*#__PURE__*/_jsx(RatingBlock,{id:Number(id),width:\"14\",height:\"14\",rating:rating,isReview:false})}),/*#__PURE__*/_jsx(GuitarTabs,{guitar:guitarCurrent})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-container__price-wrapper\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"product-container__price-info product-container__price-info--title\",children:\"\\u0426\\u0435\\u043D\\u0430:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-container__price-info product-container__price-info--value\",children:[price===undefined?'':price.toLocaleString(),\" \\u20BD\"]}),/*#__PURE__*/_jsx(\"a\",{className:\"button button--red button--big product-container__button\",href:\"/\",children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0443\"})]})]}),/*#__PURE__*/_jsx(ReviewsList,{guitarId:id,guitarName:name})]})}),/*#__PURE__*/_jsx(Footer,{})]});}export default ProductPage;","map":{"version":3,"names":["useParams","useEffect","store","fetchGuitar","getGuitarCurrent","useAppSelector","getNumGuitar","Header","Breadcrumbs","GuitarTabs","ReviewsList","RatingBlock","Footer","NotFoundPage","ProductPage","id","dispatch","Number","guitarCurrent","name","previewImg","price","rating","numGuitar","Object","keys","length","undefined","toLocaleString"],"sources":["C:/Ирина/Projects/guitars-shop/src/components/product-page/product-page.tsx"],"sourcesContent":["import { useParams } from 'react-router-dom';\r\nimport { useEffect } from 'react';\r\n\r\nimport { store } from '../../store/index';\r\nimport { fetchGuitar } from '../../store/api-actions';\r\nimport { getGuitarCurrent } from '../../store/guitars-data/selector';\r\n\r\nimport { useAppSelector } from '../../hooks';\r\nimport { getNumGuitar } from '../../utils/utils';\r\n\r\nimport Header from '../header/header';\r\nimport Breadcrumbs from '../breadcrumbs/breadcrumbs';\r\nimport GuitarTabs from '../guitar-tabs/guitar-tabs';\r\nimport ReviewsList from '../reviews-list/reviews-list';\r\nimport RatingBlock from '../rating-block/rating-block';\r\nimport Footer from '../footer/footer';\r\nimport NotFoundPage from '../not-found-page/not-found-page';\r\n\r\nfunction ProductPage (): JSX.Element {\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    store.dispatch(fetchGuitar(Number(id)));\r\n  }, [id]);\r\n\r\n  const guitarCurrent = useAppSelector(getGuitarCurrent);\r\n  const { name, previewImg,  price, rating } = guitarCurrent;\r\n  const numGuitar = getNumGuitar(previewImg);\r\n\r\n  if (Object.keys(guitarCurrent).length === 0) {\r\n    return <NotFoundPage />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <Header />\r\n      <main className=\"page-content\">\r\n        <div className=\"container\">\r\n          <h1 className=\"page-content__title title title--bigger\" data-testid=\"name\">{name}</h1>\r\n          <Breadcrumbs nameGuitar={name}/>\r\n          <div className=\"product-container\">\r\n            <img className=\"product-container__img\"\r\n              src={`/img/content/catalog-product-${numGuitar}.jpg`}\r\n              srcSet={`/img/content/catalog-product-${numGuitar}@2x.jpg 2x}`}\r\n              width=\"90\" height=\"235\" alt=\"\"\r\n            />\r\n            <div className=\"product-container__info-wrapper\">\r\n              <h2 className=\"product-container__title title title--big title--uppercase\">{name}</h2>\r\n              <div className=\"rate product-container__rating\">\r\n                <RatingBlock id={Number(id)} width=\"14\" height=\"14\" rating={rating} isReview={false}/>\r\n              </div>\r\n              <GuitarTabs guitar = {guitarCurrent}/>\r\n            </div>\r\n            <div className=\"product-container__price-wrapper\">\r\n              <p className=\"product-container__price-info product-container__price-info--title\">Цена:</p>\r\n              <p className=\"product-container__price-info product-container__price-info--value\">{price===undefined? '' : price.toLocaleString()} ₽</p>\r\n              <a className=\"button button--red button--big product-container__button\" href=\"/\">Добавить в корзину</a>\r\n            </div>\r\n          </div>\r\n          <ReviewsList guitarId={id} guitarName={name}/>\r\n        </div>\r\n      </main>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\nexport default ProductPage;\r\n"],"mappings":"AAAA,OAASA,SAAT,KAA0B,kBAA1B,CACA,OAASC,SAAT,KAA0B,OAA1B,CAEA,OAASC,KAAT,KAAsB,mBAAtB,CACA,OAASC,WAAT,KAA4B,yBAA5B,CACA,OAASC,gBAAT,KAAiC,mCAAjC,CAEA,OAASC,cAAT,KAA+B,aAA/B,CACA,OAASC,YAAT,KAA6B,mBAA7B,CAEA,MAAOC,OAAP,KAAmB,kBAAnB,CACA,MAAOC,YAAP,KAAwB,4BAAxB,CACA,MAAOC,WAAP,KAAuB,4BAAvB,CACA,MAAOC,YAAP,KAAwB,8BAAxB,CACA,MAAOC,YAAP,KAAwB,8BAAxB,CACA,MAAOC,OAAP,KAAmB,kBAAnB,CACA,MAAOC,aAAP,KAAyB,kCAAzB,C,wFAEA,QAASC,YAAT,EAAqC,CACnC,eAAed,SAAS,EAAxB,CAAQe,EAAR,YAAQA,EAAR,CAEAd,SAAS,CAAC,UAAM,CACdC,KAAK,CAACc,QAAN,CAAeb,WAAW,CAACc,MAAM,CAACF,EAAD,CAAP,CAA1B,EACD,CAFQ,CAEN,CAACA,EAAD,CAFM,CAAT,CAIA,GAAMG,cAAa,CAAGb,cAAc,CAACD,gBAAD,CAApC,CACA,GAAQe,KAAR,CAA6CD,aAA7C,CAAQC,IAAR,CAAcC,UAAd,CAA6CF,aAA7C,CAAcE,UAAd,CAA2BC,KAA3B,CAA6CH,aAA7C,CAA2BG,KAA3B,CAAkCC,MAAlC,CAA6CJ,aAA7C,CAAkCI,MAAlC,CACA,GAAMC,UAAS,CAAGjB,YAAY,CAACc,UAAD,CAA9B,CAEA,GAAII,MAAM,CAACC,IAAP,CAAYP,aAAZ,EAA2BQ,MAA3B,GAAsC,CAA1C,CAA6C,CAC3C,mBAAO,KAAC,YAAD,IAAP,CACD,CAED,mBACE,aAAK,SAAS,CAAC,SAAf,wBACE,KAAC,MAAD,IADF,cAEE,aAAM,SAAS,CAAC,cAAhB,uBACE,aAAK,SAAS,CAAC,WAAf,wBACE,WAAI,SAAS,CAAC,yCAAd,CAAwD,cAAY,MAApE,UAA4EP,IAA5E,EADF,cAEE,KAAC,WAAD,EAAa,UAAU,CAAEA,IAAzB,EAFF,cAGE,aAAK,SAAS,CAAC,mBAAf,wBACE,YAAK,SAAS,CAAC,wBAAf,CACE,GAAG,wCAAkCI,SAAlC,QADL,CAEE,MAAM,wCAAkCA,SAAlC,eAFR,CAGE,KAAK,CAAC,IAHR,CAGa,MAAM,CAAC,KAHpB,CAG0B,GAAG,CAAC,EAH9B,EADF,cAME,aAAK,SAAS,CAAC,iCAAf,wBACE,WAAI,SAAS,CAAC,4DAAd,UAA4EJ,IAA5E,EADF,cAEE,YAAK,SAAS,CAAC,gCAAf,uBACE,KAAC,WAAD,EAAa,EAAE,CAAEF,MAAM,CAACF,EAAD,CAAvB,CAA6B,KAAK,CAAC,IAAnC,CAAwC,MAAM,CAAC,IAA/C,CAAoD,MAAM,CAAEO,MAA5D,CAAoE,QAAQ,CAAE,KAA9E,EADF,EAFF,cAKE,KAAC,UAAD,EAAY,MAAM,CAAIJ,aAAtB,EALF,GANF,cAaE,aAAK,SAAS,CAAC,kCAAf,wBACE,UAAG,SAAS,CAAC,oEAAb,uCADF,cAEE,WAAG,SAAS,CAAC,oEAAb,WAAmFG,KAAK,GAAGM,SAAR,CAAmB,EAAnB,CAAwBN,KAAK,CAACO,cAAN,EAA3G,aAFF,cAGE,UAAG,SAAS,CAAC,0DAAb,CAAwE,IAAI,CAAC,GAA7E,gHAHF,GAbF,GAHF,cAsBE,KAAC,WAAD,EAAa,QAAQ,CAAEb,EAAvB,CAA2B,UAAU,CAAEI,IAAvC,EAtBF,GADF,EAFF,cA4BE,KAAC,MAAD,IA5BF,GADF,CAgCD,CACD,cAAeL,YAAf"},"metadata":{},"sourceType":"module"}