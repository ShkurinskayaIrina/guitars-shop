{"ast":null,"code":"import _slicedToArray from\"C:/\\u0418\\u0440\\u0438\\u043D\\u0430/Projects/guitars-shop/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useLayoutEffect}from'react';import{Router}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";function HistoryRouter(_ref){var basename=_ref.basename,children=_ref.children,history=_ref.history;var _useState=useState({action:history.action,location:history.location}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];useLayoutEffect(function(){return history.listen(setState);},[history]);return/*#__PURE__*/_jsx(Router,{basename:basename,location:state.location,navigationType:state.action,navigator:history,children:children});}export default HistoryRouter;","map":{"version":3,"names":["useState","useLayoutEffect","Router","HistoryRouter","basename","children","history","action","location","state","setState","listen"],"sources":["C:/Ирина/Projects/guitars-shop/src/components/history-route/history-route.tsx"],"sourcesContent":["import { useState, useLayoutEffect, ReactNode } from 'react';\r\nimport { Router } from 'react-router-dom';\r\nimport type { BrowserHistory } from 'history';\r\n\r\nexport interface HistoryRouterProps {\r\n  history: BrowserHistory\r\n  basename?: string\r\n  children?: ReactNode\r\n}\r\n\r\nfunction HistoryRouter({\r\n  basename,\r\n  children,\r\n  history,\r\n}: HistoryRouterProps) {\r\n  const [state, setState] = useState({\r\n    action: history.action,\r\n    location: history.location,\r\n  });\r\n\r\n  useLayoutEffect(() => history.listen(setState), [history]);\r\n\r\n  return (\r\n    <Router\r\n      basename={basename}\r\n      location={state.location}\r\n      navigationType={state.action}\r\n      navigator={history}\r\n    >\r\n      {children}\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default HistoryRouter;\r\n"],"mappings":"6IAAA,OAASA,QAAT,CAAmBC,eAAnB,KAAqD,OAArD,CACA,OAASC,MAAT,KAAuB,kBAAvB,C,2CASA,QAASC,cAAT,MAIuB,IAHrBC,SAGqB,MAHrBA,QAGqB,CAFrBC,QAEqB,MAFrBA,QAEqB,CADrBC,OACqB,MADrBA,OACqB,CACrB,cAA0BN,QAAQ,CAAC,CACjCO,MAAM,CAAED,OAAO,CAACC,MADiB,CAEjCC,QAAQ,CAAEF,OAAO,CAACE,QAFe,CAAD,CAAlC,wCAAOC,KAAP,eAAcC,QAAd,eAKAT,eAAe,CAAC,iBAAMK,QAAO,CAACK,MAAR,CAAeD,QAAf,CAAN,EAAD,CAAiC,CAACJ,OAAD,CAAjC,CAAf,CAEA,mBACE,KAAC,MAAD,EACE,QAAQ,CAAEF,QADZ,CAEE,QAAQ,CAAEK,KAAK,CAACD,QAFlB,CAGE,cAAc,CAAEC,KAAK,CAACF,MAHxB,CAIE,SAAS,CAAED,OAJb,UAMGD,QANH,EADF,CAUD,CAED,cAAeF,cAAf"},"metadata":{},"sourceType":"module"}